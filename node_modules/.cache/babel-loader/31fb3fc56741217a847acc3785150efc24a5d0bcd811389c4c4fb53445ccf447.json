{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomePage from './components/HomePage.vue';\nimport LoginPage from './components/LoginPage.vue';\nimport ProfilePage from './components/ProfilePage.vue';\nimport UserManagement from './components/UserManagement.vue';\nimport UserForm from './components/UserForm.vue';\nimport ChangePassword from './components/ChangePassword.vue';\nimport CreateBid from './components/CreateBid.vue';\nimport store from './store'; // Vuex\nimport axios from 'axios';\n\n// Добавляем интерцептор для токена\naxios.interceptors.request.use(config => {\n  const token = store.state.token;\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Маршруты\nconst routes = [{\n  path: '/',\n  component: HomePage\n}, {\n  path: '/login',\n  component: LoginPage\n}, {\n  path: '/profile',\n  component: ProfilePage\n}, {\n  path: '/profile/password',\n  component: ChangePassword\n}, {\n  path: '/admin/users',\n  component: UserManagement\n}, {\n  path: '/admin/users/create',\n  component: UserForm\n}, {\n  path: '/admin/users/:id/edit',\n  component: UserForm,\n  props: true\n}, {\n  path: '/create-bid',\n  component: CreateBid\n}];\n\n// Роутер\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// ⚠️ ВАЖНО: Ждём загрузки пользователя перед монтированием\nstore.dispatch('checkToken').finally(() => {\n  const app = createApp(App);\n  app.use(store);\n  app.use(router);\n  app.mount('#app');\n});","map":{"version":3,"names":["createApp","App","createRouter","createWebHistory","HomePage","LoginPage","ProfilePage","UserManagement","UserForm","ChangePassword","CreateBid","store","axios","interceptors","request","use","config","token","state","headers","Authorization","error","Promise","reject","routes","path","component","props","router","history","dispatch","finally","app","mount"],"sources":["C:/task_manager_home/src/main.js"],"sourcesContent":["import { createApp } from 'vue';\nimport App from './App.vue';\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomePage from './components/HomePage.vue';\nimport LoginPage from './components/LoginPage.vue';\nimport ProfilePage from './components/ProfilePage.vue';\nimport UserManagement from './components/UserManagement.vue';\nimport UserForm from './components/UserForm.vue';\nimport ChangePassword from './components/ChangePassword.vue';\nimport CreateBid from './components/CreateBid.vue';\nimport store from './store'; // Vuex\nimport axios from 'axios';\n\n// Добавляем интерцептор для токена\naxios.interceptors.request.use(\n  (config) => {\n    const token = store.state.token;\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Маршруты\nconst routes = [\n  { path: '/', component: HomePage },\n  { path: '/login', component: LoginPage },\n  { path: '/profile', component: ProfilePage },\n  { path: '/profile/password', component: ChangePassword },\n  { path: '/admin/users', component: UserManagement },\n  { path: '/admin/users/create', component: UserForm },\n  { path: '/admin/users/:id/edit', component: UserForm, props: true },\n  { path: '/create-bid', component: CreateBid },\n];\n\n// Роутер\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\n// ⚠️ ВАЖНО: Ждём загрузки пользователя перед монтированием\nstore.dispatch('checkToken').finally(() => {\n  const app = createApp(App);\n  app.use(store);\n  app.use(router);\n  app.mount('#app');\n});\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,WAAW,MAAM,8BAA8B;AACtD,OAAOC,cAAc,MAAM,iCAAiC;AAC5D,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,cAAc,MAAM,iCAAiC;AAC5D,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,KAAK,MAAM,SAAS,CAAC,CAAC;AAC7B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACAA,KAAK,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAC3BC,MAAM,IAAK;EACV,MAAMC,KAAK,GAAGN,KAAK,CAACO,KAAK,CAACD,KAAK;EAC/B,IAAIA,KAAK,EAAE;IACTD,MAAM,CAACG,OAAO,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EACAK,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC;;AAED;AACA,MAAMG,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAAEC,SAAS,EAAEtB;AAAS,CAAC,EAClC;EAAEqB,IAAI,EAAE,QAAQ;EAAEC,SAAS,EAAErB;AAAU,CAAC,EACxC;EAAEoB,IAAI,EAAE,UAAU;EAAEC,SAAS,EAAEpB;AAAY,CAAC,EAC5C;EAAEmB,IAAI,EAAE,mBAAmB;EAAEC,SAAS,EAAEjB;AAAe,CAAC,EACxD;EAAEgB,IAAI,EAAE,cAAc;EAAEC,SAAS,EAAEnB;AAAe,CAAC,EACnD;EAAEkB,IAAI,EAAE,qBAAqB;EAAEC,SAAS,EAAElB;AAAS,CAAC,EACpD;EAAEiB,IAAI,EAAE,uBAAuB;EAAEC,SAAS,EAAElB,QAAQ;EAAEmB,KAAK,EAAE;AAAK,CAAC,EACnE;EAAEF,IAAI,EAAE,aAAa;EAAEC,SAAS,EAAEhB;AAAU,CAAC,CAC9C;;AAED;AACA,MAAMkB,MAAM,GAAG1B,YAAY,CAAC;EAC1B2B,OAAO,EAAE1B,gBAAgB,CAAC,CAAC;EAC3BqB;AACF,CAAC,CAAC;;AAEF;AACAb,KAAK,CAACmB,QAAQ,CAAC,YAAY,CAAC,CAACC,OAAO,CAAC,MAAM;EACzC,MAAMC,GAAG,GAAGhC,SAAS,CAACC,GAAG,CAAC;EAC1B+B,GAAG,CAACjB,GAAG,CAACJ,KAAK,CAAC;EACdqB,GAAG,CAACjB,GAAG,CAACa,MAAM,CAAC;EACfI,GAAG,CAACC,KAAK,CAAC,MAAM,CAAC;AACnB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}